<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paint</title>
</head>
<body>

<canvas id="canvas1"></canvas>
</body>

<script>
    // Canvas Set up
    const  canvas =document.querySelector("canvas")
    canvas.height=window.innerHeight
    canvas.width=window.innerWidth
    const ctx =canvas.getContext("2d")

    //Line Set up
    ctx.lineJoin="round" //rounded shape
    ctx.lineCap="round"
    ctx.strokeStyle=""
    ctx.lineWidth="2";
    ctx.globalCompositeOperation="darken"

    //variables
    let lastX=0;
    let lastY=0;
    let isDrawing;
    let hue=0;
    let direction =true;
    //Line draw


    function  drawLine(e){
        if (!isDrawing) return;
        ctx.beginPath(); //Call this before stroke
        ctx.moveTo(lastX,lastY); //Where line begins---------------------------------------------------
        ctx.lineTo(e.offsetX,e.offsetY); //Where line ends-----------------------------------------------

        ctx.stroke(); //
        [lastX,lastY]=[e.offsetX,e.offsetY]

        console.log("Line")

    }

    // drawing events

    canvas.addEventListener("mousedown", (e) =>{
        isDrawing=true;
        [lastX,lastY]=[e.offsetX,e.offsetY]
    })

    canvas.addEventListener("mouseup", () => isDrawing=false)
    canvas.addEventListener("mouseout", () => isDrawing=false)

    //When mouse is moving draw the line
    canvas.addEventListener("mousemove",drawLine)



    function drawLinePhone(e) {
  if (!isDrawing) return;
  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
  ctx.lineTo(e.touches[0].clientX, e.touches[0].clientY);
  ctx.stroke();
  [lastX, lastY] = [e.touches[0].clientX, e.touches[0].clientY];
}

canvas.addEventListener("touchstart", (e) => {
  isDrawing = true;
  [lastX, lastY] = [e.touches[0].clientX, e.touches[0].clientY];
});

canvas.addEventListener("touchend", () => (isDrawing = false));

canvas.addEventListener("touchcancel", () => (isDrawing = false));

canvas.addEventListener("touchmove", drawLinePhone);






</script>
</html>
